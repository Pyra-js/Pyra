// src/routes/api/protected/middleware.ts
async function protectedMiddleware(context, next) {
  const authHeader = context.headers.get("authorization");
  if (!authHeader || !authHeader.startsWith("Bearer ")) {
    return context.json({ error: "Unauthorized" }, { status: 401 });
  }
  return next();
}
export {
  protectedMiddleware as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL3JvdXRlcy9hcGkvcHJvdGVjdGVkL21pZGRsZXdhcmUudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIFByb3RlY3RlZCBBUEkgbWlkZGxld2FyZSBcdTIwMTQgY2hlY2tzIEF1dGhvcml6YXRpb24gaGVhZGVyXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHByb3RlY3RlZE1pZGRsZXdhcmUoY29udGV4dCwgbmV4dCkge1xyXG4gIGNvbnN0IGF1dGhIZWFkZXIgPSBjb250ZXh0LmhlYWRlcnMuZ2V0KFwiYXV0aG9yaXphdGlvblwiKTtcclxuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aChcIkJlYXJlciBcIikpIHtcclxuICAgIHJldHVybiBjb250ZXh0Lmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5leHQoKTtcclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQ0EsZUFBTyxvQkFBMkMsU0FBUyxNQUFNO0FBQy9ELFFBQU0sYUFBYSxRQUFRLFFBQVEsSUFBSSxlQUFlO0FBQ3RELE1BQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxXQUFXLFNBQVMsR0FBRztBQUNwRCxXQUFPLFFBQVEsS0FBSyxFQUFFLE9BQU8sZUFBZSxHQUFHLEVBQUUsUUFBUSxJQUFJLENBQUM7QUFBQSxFQUNoRTtBQUVBLFNBQU8sS0FBSztBQUNkOyIsCiAgIm5hbWVzIjogW10KfQo=
